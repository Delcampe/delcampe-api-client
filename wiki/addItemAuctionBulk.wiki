#summary Details on addItemAuctionBulk() API function
#sidebar ApiFunctions

Call this function to add multiple auction items on Delcampe website at once.

You can send a *maximum of 1000 items at once*. 

The new items will be placed in a queue and processed later.


=== Call ===

 * syntax : addItemAuctionBulk(string token, object ItemAuctionParamBulk)

 * parameter 1 : _string_ : secret token
 * parameter 2 : _object_ ItemAuctionParamBulk  : containing several ItemAuctionParam objects

 * note : for parameter 2, php developers can use an array in place of an object. See [addItemAuctionBulk#Code_example_(PHP) PHP code example]

 * SOAP envelope
{{{
<SOAP-ENV:Envelope SOAP-ENV:encodingStyle="http://schemas.xmlsoap.org/soap/encoding/">
<SOAP-ENV:Body>
<SOAP-ENV:addItemAuctionBulk>
<token xsi:type="xsd:string">1363b33abe698b733289b05aa057cadf</token>
<data xsi:type="ns1:ItemAuctionParamBulk">
<data SOAP-ENC:arrayType="ns1:ItemAuctionParam[2]" xsi:type="ns1:ArrayOfItemAuctionParam">
<item xsi:type="ns1:ItemAuctionParam">
<id_country xsi:type="xsd:int">0</id_country>
<id_category xsi:type="xsd:int">80</id_category>
<title xsi:type="xsd:string">MyTitle</title>
<subtitle xsi:nil="true"/>
<personal_reference xsi:type="xsd:string">MyPersRef1</personal_reference>
<description xsi:type="xsd:string">My description</description>
<price_starting xsi:type="xsd:float">10</price_starting>
<price_increment xsi:type="xsd:float">0.53</price_increment>
<currency xsi:type="xsd:string">EUR</currency>
<date_end xsi:nil="true"/>
<duration xsi:nil="true"/>
<prefered_end_day xsi:nil="true"/>
<prefered_end_hour xsi:nil="true"/>
<renew xsi:nil="true"/>
<option_boldtitle xsi:nil="true"/>
<option_coloredborder xsi:nil="true"/>
<option_highlight xsi:nil="true"/>
<option_keepoptionsonrenewal xsi:nil="true"/>
<option_lastminutebidding xsi:nil="true"/>
<option_privatebidding xsi:nil="true"/>
<option_subtitle xsi:nil="true"/>
<option_topcategory xsi:nil="true"/>
<option_toplisting xsi:nil="true"/>
<option_topmain xsi:nil="true"/>
<images SOAP-ENC:arrayType="xsd:string[2]" xsi:type="ns1:String[]">
<item xsi:type="xsd:string">http://www.mypics.net/pictures/testPicsApi_1.jpg</item>
<item xsi:type="xsd:string">http://www.mypics.net/pictures/testPicsApi_2.jpg</item>
</images>
</item>
<item xsi:type="ns1:ItemAuctionParam">
<id_country xsi:type="xsd:int">0</id_country>
<id_category xsi:type="xsd:int">80</id_category>
<title xsi:type="xsd:string">MyTitle</title>
<subtitle xsi:nil="true"/>
<personal_reference xsi:type="xsd:string">MyPersRef2</personal_reference>
<description xsi:type="xsd:string">My description</description>
<price_starting xsi:type="xsd:float">12</price_starting>
<price_increment xsi:type="xsd:float">0.10</price_increment>
<currency xsi:type="xsd:string">EUR</currency>
<date_end xsi:nil="true"/>
<duration xsi:nil="true"/>
<prefered_end_day xsi:nil="true"/>
<prefered_end_hour xsi:nil="true"/>
<renew xsi:nil="true"/>
<option_boldtitle xsi:nil="true"/>
<option_coloredborder xsi:nil="true"/>
<option_highlight xsi:nil="true"/>
<option_keepoptionsonrenewal xsi:nil="true"/>
<option_lastminutebidding xsi:nil="true"/>
<option_privatebidding xsi:nil="true"/>
<option_subtitle xsi:nil="true"/>
<option_topcategory xsi:nil="true"/>
<option_toplisting xsi:nil="true"/>
<option_topmain xsi:nil="true"/>
<images SOAP-ENC:arrayType="xsd:string[2]" xsi:type="ns1:String[]">
<item xsi:type="xsd:string">http://www.mypics.net/pictures/testPicsApi_3.jpg</item>
<item xsi:type="xsd:string">http://www.mypics.net/pictures/testPicsApi_4.jpg</item>
</images>
</item>
</data>
</data>
</SOAP-ENV:addItemAuctionBulk>
</SOAP-ENV:Body>
</SOAP-ENV:Envelope>}}}

=== Response ===

 * ResponseSimpleBulk, giving you more information on the function call result

 * SOAP envelope
{{{
<SOAP-ENV:Envelope SOAP-ENV:encodingStyle="http://schemas.xmlsoap.org/soap/encoding/">
<SOAP-ENV:Body>
<SOAP-ENV:addItemAuctionBulkResponse>
  <addItemAuctionBulkReturn xsi:type="ns1:ResponseSimpleBulk">
  <data SOAP-ENC:arrayType="ns1:ResponseSimple[2]" xsi:type="ns1:ArrayOfResponseSimple">
    <item xsi:type="ns1:ResponseSimple">
      <status xsi:type="xsd:boolean">true</status>
      <errorMsg xsi:nil="true"/>
      <data xsi:type="xsd:string">Your request was taken into account!</data>
      <persRef xsi:type="xsd:string">MyPersRef</persRef>
    </item>
    <item xsi:type="ns1:ResponseSimple">
      <status xsi:type="xsd:boolean">true</status>
      <errorMsg xsi:nil="true"/>
      <data xsi:type="xsd:string">Your request was taken into account!</data>
      <persRef xsi:type="xsd:string">MyPersRef</persRef>
    </item>
  </data>
  <status xsi:type="xsd:boolean">true</status>
  <errorMsg xsi:nil="true"/>
  <persRef xsi:nil="true"/>
  </addItemAuctionBulkReturn>
</SOAP-ENV:addItemAuctionBulkResponse>
</SOAP-ENV:Body>
</SOAP-ENV:Envelope>
}}}

=== Notification === 
 * [Notifications#Seller_Item_Add Seller_Item_Add]

=== Code example (PHP) ===
{{{
for ($i = 0; $i < 100; $i++) {
  // MANDATORY DATA
  $data['id_country']                  = 0;
  $data['id_category']                 = 80;
  $data['price_starting']              = '1.00';
  $data['price_increment']             = '0.01';
  $data['currency']                    = 'EUR';
  $data['title']                       = 'My title';
  $data['personal_reference']          = 'My personal ref';

  //OPTIONAL DATA
  $data['price_reserve']               = '5.00';
  $data['date_end']                    = '2010-07-01 10:00:00';
  $data['duration']                    = 10;
  $data['description']                 = 'My description'
  $data['renew']                       = 2;
  $data['option_lastminutebidding']    = true;
  $data['option_privatebidding']       = false;
  $data['option_subtitle']             = true;
  $data['subtitle']                    = 'My subtitle';
  $data['option_boldtitle']            = true;
  $data['option_highlight']            = false;
  $data['option_coloredborder']        = true;
  $data['option_toplisting']           = false;
  $data['option_topcategory']          = false;
  $data['option_topmain']              = false;
  $data['option_keepoptionsonrenewal'] = true;
  $data['prefered_end_day']            = 'mon';
  $data['prefered_end_hour']           = '15:00';

  //OPTIONAL IMAGES
  $data['images']                      = array('http://www.mypictures.com/pic1.jpg',
                                               'http://www.mypictures.com/pic2.jpg',
	                                       'http://www.mypictures.com/pic3.jpg'
                                              );

  $dataBulk['data'][] = $data;
}

//FUNCTION CALL
$objSoapClient = new SoapClient('http://api.delcampe.net/soap.php?wsdl');
$return = $objSoapClient->authenticateUser('MyPersonalApiKey');

if ($return->status === true) {
  $return = $objSoapClient->addItemAuctionBulk($return->data, $dataBulk);

    if (false === $return->status) {
        //Insert KO 
        if (!is_null($return->data)) {    
            //To list items in error, based on the personal reference of each item
            foreach ($return->data as $data) {
                if (false === $data->status) {
                    printVar($data->errorMsg . ' for Item :' . $data->persRef);
                }                    
            }
        } else {
            //General error (not authorized to call this method, too much items to insert, ...)
            printVar($return->errorMsg);
        }     
    } else {
        //Insert OK
        printVar($return->data[0]->data);
    }
}
}}}