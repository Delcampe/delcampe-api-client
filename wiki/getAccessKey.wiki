#summary Details on getAccessKey() API function
#sidebar ApiFunctions

To check if you have access to this function, call [getAuthorizedActions].

Call this function to get an access key, used only for third-party applications.

=== Call ===

 * syntax : getAccessKey(string token, object WantedActions, string callbackUrl)

 * parameter 1 : _string_ : secret token
 * parameter 2 : _object_ WantedActions : contains the API functions you want to have access on the member account
 * parameter 3 : _string_ :  

 * SOAP envelope
{{{
<SOAP-ENV:Envelope SOAP-ENV:encodingStyle="http://schemas.xmlsoap.org/soap/encoding/">
<SOAP-ENV:Body>
<SOAP-ENV:getAccessKey>
  <token xsi:type="xsd:string">c7826778389069fe13845b085f1ac141</token>
  <wantedActions xsi:type="ns1:WantedActions">
	  <data SOAP-ENC:arrayType="ns1:String[25]" xsi:type="ns1:ArrayOfString">
		<item xsi:type="ns1:String">
		  <data xsi:type="xsd:string">addItemAuction</data>
		</item>
		<item xsi:type="ns1:String">
		  <data xsi:type="xsd:string">addItemFixedPrice</data>
		</item>
		<item xsi:type="ns1:String">
		  <data xsi:type="xsd:string">addNotificationSetting</data>
		</item>
		<item xsi:type="ns1:String">
		  <data xsi:type="xsd:string">closeItem</data>
		</item>
		<item xsi:type="ns1:String">
		  <data xsi:type="xsd:string">closeItemPriority</data>
		</item>
		<item xsi:type="ns1:String">
		  <data xsi:type="xsd:string">getCategoryList</data>
		</item>
		<item xsi:type="ns1:String">
		  <data xsi:type="xsd:string">getItemInfo</data>
		</item>
		<item xsi:type="ns1:String">
		  <data xsi:type="xsd:string">getMyClosedUnsoldItemAuctionList</data>
		</item>
		<item xsi:type="ns1:String">
		  <data xsi:type="xsd:string">getMyClosedUnsoldItemFixedPriceList</data>
		</item>
		<item xsi:type="ns1:String">
		  <data xsi:type="xsd:string">getMyOpenItemAuctionList</data>
		</item>
		<item xsi:type="ns1:String">
		  <data xsi:type="xsd:string">getMyOpenItemFixedPriceList</data>
		</item>
		<item xsi:type="ns1:String">
		  <data xsi:type="xsd:string">getMySoldItemAuctionList</data>
		</item>
		<item xsi:type="ns1:String">
		  <data xsi:type="xsd:string">getMySoldItemFixedPriceList</data>
		</item>
	  </data>
  </wantedActions>
  <callbackUrl xsi:type="xsd:string">http://www.thirdpartysite.com</callbackUrl>
</SOAP-ENV:getAccessKey>
</SOAP-ENV:Body>
</SOAP-ENV:Envelope>
}}}

=== Response ===

 * ResponseAccessKey, giving you the wanted data

 * SOAP envelope

{{{
<SOAP-ENV:Envelope SOAP-ENV:encodingStyle="http://schemas.xmlsoap.org/soap/encoding/">
<SOAP-ENV:Body>
<SOAP-ENV:getAccessKeyResponse>
  <getAccessKeyReturn xsi:type="ns1:ResponseAccessKey">
    <status xsi:type="xsd:boolean">true</status>
    <errorMsg xsi:nil="true"/>
    <accessKey xsi:type="xsd:string">e1dd99ffe20eaba41c08dd29780532ac</accessKey>
    <acceptanceUrl xsi:type="xsd:string">http://www.delcampe.net/status.php?page=accounts_external_validation&language=F&accessKey=xxx</acceptanceUrl>
  </getAccessKeyReturn>
</SOAP-ENV:getAccessKeyResponse>
</SOAP-ENV:Body>
</SOAP-ENV:Envelope>
}}}

=== Notification === 
 * [Notifications#Seller_Item_Add Seller_Item_Add]

=== Code example (PHP) ===
{{{
// MANDATORY DATA
$data['id_country']                  = 0;
$data['id_category']                 = 80;
$data['price_starting']              = '1.00';
$data['price_increment']             = '0.01';
$data['currency']                    = 'EUR';
$data['title']                       = 'My title';
$data['personal_reference']          = 'My personal ref';

//OPTIONAL DATA
$data['price_reserve']               = '5.00';
$data['date_end']                    = '2010-07-01 10:00:00';
$data['duration']                    = 10;
$data['description']                 = 'My description'
$data['renew']                       = 2;
$data['option_lastminutebidding']    = true;
$data['option_privatebidding']       = false;
$data['option_subtitle']             = true;
$data['subtitle']                    = 'My subtitle';
$data['option_boldtitle']            = true;
$data['option_highlight']            = false;
$data['option_coloredborder']        = true;
$data['option_toplisting']           = false;
$data['option_topcategory']          = false;
$data['option_topmain']              = false;
$data['option_keepoptionsonrenewal'] = true;
$data['prefered_end_day']            = 'mon';
$data['prefered_end_hour']           = '15:00';

//OPTIONAL IMAGES
$data['images']                      = array('http://www.mypictures.com/pic1.jpg',
                                             'http://www.mypictures.com/pic2.jpg',
	                                     'http://www.mypictures.com/pic3.jpg'
                                            );

//FUNCTION CALL
$objSoapClient = new SoapClient('http://api.delcampe.net/soap.php?wsdl');
$return = $objSoapClient->authenticateUser('MyPersonalApiKey');

if ($return->status === true) {
  $return = $objSoapClient->addItemAuction($return->data, $data);

  if ($return->status === true) {
    var_export($return->data, 1);
  } else {
    var_export($return->errorMsg, 1);
  } 
}
}}}