#summary Details on testNotification() API function
#sidebar ApiFunctions

To check if you have access to this function, call [getAuthorizedActions].

Call this function to test the reception of a specific XML notification type.<br>
The returned notification contains data of a dummy item.<br>

For more information about Delcampe's notifications, see [Notifications].

=== Call ===

 * syntax : testNotification(string token, string type)

 * parameter 1 : _string_ : secret token
 * parameter 2 : _string_ : notification type. To get a list of available notifications types, call [getAvailableNotifications]. Only XML notifications can be tested.
 
 * SOAP envelope
{{{
<SOAP-ENV:Envelope 
    xmlns:SOAP-ENV='http://schemas.xmlsoap.org/soap/envelope/'
    xmlns:xsd='http://www.w3.org/2001/XMLSchema'
    xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' 
    xmlns:ns1='http://xml.apache.org/xml-soap' 
    xmlns:SOAP-ENC='http://schemas.xmlsoap.org/soap/encoding/' 
    SOAP-ENV:encodingStyle='http://schemas.xmlsoap.org/soap/encoding/'>
<SOAP-ENV:Body>
<SOAP-ENV:testNotification>
  <token xsi:type="xsd:string">bf56d65bd9bab33dbf5afec567b428f4</token>
  <notificationType xsi:type="xsd:string">Curl_Seller_Item_Close_Sold</notificationType>
</SOAP-ENV:testNotification>
</SOAP-ENV:Body>
</SOAP-ENV:Envelope>
}}}

=== Response ===

 * ResponseSimple, giving you more information on the function call result

 * SOAP envelope
{{{
<SOAP-ENV:Envelope SOAP-ENV:encodingStyle="http://schemas.xmlsoap.org/soap/encoding/">
<SOAP-ENV:Body>
<SOAP-ENV:testNotificationResponse>
  <testNotificationReturn xsi:type="ns1:ResponseSimple">
  <status xsi:type="xsd:boolean">true</status>
  <errorMsg xsi:nil="true"/>
  <data xsi:type="xsd:string">
    A test notification of type Curl_Seller_Item_Close_Sold has been sent!
  </data>
  <personal_reference xsi:nil="true"/>
  </testNotificationReturn>
</SOAP-ENV:testNotificationResponse>
</SOAP-ENV:Body>
</SOAP-ENV:Envelope>
}}}

=== Notification === 
 * The notification you want to test

=== Code example (PHP) ===
{{{
//FUNCTION CALL
$objSoapClient = new SoapClient('http://api.delcampe.net/soap.php?wsdl');

$return = $objSoapClient->authenticateUser('MyPersonalApiKey');

if ($return->status === true) {
  $return = $objSoapClient->testNotification($return->data, 'Curl_Seller_Item_Close_Sold');

  if (return->status === true) {
    var_export($return->data, 1);
  } else {
    var_export($return->errorMsg, 1);
  } 
}
}}}