#summary Informations de base
#labels Featured,Phase-Requirements

= Introduction =

Seeing the problems encountered with our first version of our API, we decided to rewrite it entirely, using SOAP technology, standards XML notifications, and providing more info and documentation to you, developers.

The goal of Delcampe's API is to provide an automatically way to manage your items on Delcampe's website. So, the API is for big sellers who have a lot of items on sale at the same time.


== What can I do with this API ? ==
  * put an item on sale (auction or fixed price)
  * have a list of all my items on sale (with filters)
  * modify an item and its images
  * close an item
  * manage my notifications settings
  * get Delcampe's category list
  



 * obtenir les informations d'un compte (la quantité d'information diffère en fonction de 
  * c'est moi
  * c'est le membre lié à mon api key
  * c'est le membre qui a remporté un de mes objets 
  * c'est un membre

----

= Links = 
 * ruby : http://broadcast.oreilly.com/2008/12/creating-custom-soap-requests.html
 * perl : http://msdn.microsoft.com/en-us/library/ms995764.aspx
 * java : http://cafeconleche.org/books/xmljava/chapters/ch03s05.html
 * php/drupal via nuSoap : http://thedrupalblog.com/executing-soap-call-drupal-using-nusoap
 * python : http://www.ibm.com/developerworks/library/ws-pyth5/
= Le client en php = 

{{{
Zend_Loader::loadClass('Zend_Soap_Client');
$objSoapClient = new Zend_Soap_Client('http://api.delcampe.net/soap.php?wsdl');
}}}

= Le Client en .net =

If you intend to call a PHP SOAP server from a .NET Client, there are a couple of things to be aware of. First of all, I've only got it working in WSDL mode. If anyone have made it work in non-WSDL-mode, I'd be interested in hearing that. In WSDL-mode it works, but both input and output-parameters are wrapped from .NET. 


= Documentation via Soap =

 * http://api.delcampe.net/soap.php?wsdl
{{{
var_export($objSoapClient->getFunctions());
var_export($objSoapClient->getFieldsNameForAuction());
var_export($objSoapClient->getFieldsNameForFixedPriceItem());
}}}

http://tools.pointbeing.net/wsdlviewer?wsdl=http%3A%2F%2Fapi.delcampe.net%2Fsoap.php%3Fwsdl&sudmit_wsdl=Go

http://xmethods.net/ve2/WSDLAnalyzer.po?wsdlurl=http%3A%2F%2Fapi.delcampe.net%2Fsoap.php%3Fwsdl&submit=submit


= Authentification = 

 * Chaque développeur dispose d'une apikey liée à un compte membre
 généralement de base, il a 3 apiKey
  * une liée à son propre compte membre
  * une liée à son vendeur
  * une liée à son vendeur "test"

Ensuite on peut avoir autant d'api key qu'il n'y a de vendeurs supplémentaires

L'authentification se résume alors en une simple ligne


{{{
$authResult = $objSoapClient->authenticateUser('L_APIKEY');
}}}



= Ajouter un item =

{{{

list($success,$token) = 
    $objSoapClient->authenticateUser('L_APIKEY');

if(!$success) exit('broken');

$return = 
    $objSoapClient->addItem( $data, 
                             $token );
}}}